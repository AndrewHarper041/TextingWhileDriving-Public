[gd_scene load_steps=24 format=3 uid="uid://buc0ehhwfqggq"]

[ext_resource type="PackedScene" uid="uid://ci52bv1m15cbs" path="res://cars/Doge.tscn" id="1_mdet3"]
[ext_resource type="PackedScene" uid="uid://cfii24x1rv5go" path="res://phone.tscn" id="2_eciog"]
[ext_resource type="MeshLibrary" uid="uid://f8im3u8ew1gb" path="res://Models/roads-v4.tres" id="3_7a0s8"]
[ext_resource type="Script" path="res://stopSign.gd" id="4_cmgoq"]
[ext_resource type="PackedScene" uid="uid://r6rqcgo4n8hy" path="res://Models/stop_sign_1.glb" id="5_7t7bd"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8igth"]

[sub_resource type="Sky" id="Sky_q2bub"]
sky_material = SubResource("ProceduralSkyMaterial_8igth")

[sub_resource type="Environment" id="Environment_g1pjg"]
background_mode = 2
sky = SubResource("Sky_q2bub")
tonemap_mode = 2
ssr_enabled = true
ssao_enabled = true
ssao_radius = 1.5
ssao_intensity = 0.6
ssil_enabled = true
glow_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_n7aqv"]

[sub_resource type="LabelSettings" id="LabelSettings_poiig"]
font_size = 75
font_color = Color(1, 0, 0, 1)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_vcyyo"]
load_path = "res://.godot/imported/texture_10.png-e7c5a65dd3d563733df30455b582db9f.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qn0hi"]
albedo_color = Color(0.890196, 0.360784, 1, 1)
albedo_texture = SubResource("CompressedTexture2D_vcyyo")
normal_enabled = true

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_c1ion"]
load_path = "res://.godot/imported/texture_10.png-e7c5a65dd3d563733df30455b582db9f.s3tc.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_2606x"]
load_path = "res://.godot/imported/texture_10.png-e7c5a65dd3d563733df30455b582db9f.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nkyd5"]
albedo_texture = SubResource("CompressedTexture2D_c1ion")
normal_enabled = true
normal_texture = SubResource("CompressedTexture2D_2606x")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_cws50"]
load_path = "res://.godot/imported/texture_10.png-e7c5a65dd3d563733df30455b582db9f.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7tcit"]
albedo_texture = SubResource("CompressedTexture2D_cws50")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_jjc2c"]
load_path = "res://.godot/imported/texture_10.png-e7c5a65dd3d563733df30455b582db9f.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fki1n"]
albedo_texture = SubResource("CompressedTexture2D_jjc2c")

[sub_resource type="PlaneMesh" id="PlaneMesh_1ypv7"]
size = Vector2(1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_57dhp"]

[sub_resource type="CylinderMesh" id="CylinderMesh_5jeqt"]
radial_segments = 20
rings = 1

[sub_resource type="BoxShape3D" id="BoxShape3D_lf72t"]
size = Vector3(12, 5, 1)

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_g1pjg")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80696, 0.183487, -0.56138, 0, 0.950516, 0.310676, 0.590606, -0.250704, 0.767029, 0, 43.5687, 0)
shadow_enabled = true
directional_shadow_max_distance = 200.0

[node name="car" parent="." instance=ExtResource("1_mdet3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.564415, 0.184314, -6.30866)
STEER_LIMIT = 0.8
engine_force_value = 200

[node name="wheal0" parent="car" index="0"]
suspension_stiffness = 30.0

[node name="wheal1" parent="car" index="1"]
suspension_stiffness = 30.0

[node name="wheal2" parent="car" index="2"]
suspension_stiffness = 30.0

[node name="wheal3" parent="car" index="3"]
suspension_stiffness = 30.0

[node name="speed" parent="car/Hud" index="0"]
mouse_filter = 1

[node name="traffic_violation" type="Label" parent="car/Hud" index="1"]
material = SubResource("ShaderMaterial_n7aqv")
offset_right = 1152.0
offset_bottom = 648.0
label_settings = SubResource("LabelSettings_poiig")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Node3D" parent="car/doge-body" index="35" instance=ExtResource("2_eciog")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.43966, 2.0955, -1.09593)

[node name="CollisionShape3D3" parent="car" index="9"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.000778139, 0.603737, -1.11035)

[node name="CollisionShape3D4" parent="car" index="10"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.000778139, 0.653567, 1.99781)

[node name="Phone" parent="car" instance=ExtResource("2_eciog")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.51102, 0)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0.00689697, -9.36265, 0.059164)
material_override = SubResource("StandardMaterial3D_qn0hi")
use_collision = true

[node name="box" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.925521, -0.968715, 0, 0.378697, 2.3675, 0, 0, 0, 1, 18.2289, -0.192802, 0)
size = Vector3(7.59973, 0.135742, 10.8715)
material = SubResource("StandardMaterial3D_nkyd5")

[node name="box2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 2.55802, 0, 0, 0, 1, -4.09722, 1.32642, 0)
size = Vector3(1, 1, 10.8715)
material = SubResource("StandardMaterial3D_7tcit")

[node name="CSGMesh3D" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(1000, 0, 0, 0, 1000, 0, 0, 0, 1000, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_fki1n")
mesh = SubResource("PlaneMesh_1ypv7")
material = SubResource("StandardMaterial3D_57dhp")

[node name="speedBreaker" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 24.1159)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker2" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 27.7966)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker3" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0, 0, 31.6709)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="speedBreaker4" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(-7.29339e-05, -4.8781, 0, 0.41788, -0.000851437, 0, 0, 0, 1.39042, 0.224838, 0.4729, 34.547)
mesh = SubResource("CylinderMesh_5jeqt")

[node name="bumps" type="CSGCombiner3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0261143, -0.149064, -0.0670961)

[node name="box3" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -11)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box4" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -12.0818)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box5" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -13.2459)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box6" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -14.3515)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box7" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -15.5533)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box8" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -16.6351)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box9" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -17.7991)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="box10" type="CSGBox3D" parent="CSGCombiner3D/bumps"]
transform = Transform3D(-0.00242604, 0, -0.999997, 0, 2.55802, 0, 0.999997, 0, -0.00242604, 1.59131, 0.169201, -18.9048)
size = Vector3(0.3, 0.14044, 10.8715)

[node name="GridMapRoads" type="GridMap" parent="."]
transform = Transform3D(6, 0, 0, 0, 6, 0, 0, 0, 6, 4, 0, 0)
mesh_library = ExtResource("3_7a0s8")
data = {
"cells": PackedInt32Array(-1, 65534, 0, -1, 65533, 0, -1, 65532, 0, -1, 65531, 5, -1, 65530, 0, -1, 65529, 0, 65531, 65526, 0, 65531, 65529, 0, 65531, 65527, 0, 65531, 65528, 0, 65531, 65524, 0, 65531, 65523, 0, 65531, 65531, 0, 65531, 65532, 0, 65531, 65534, 0, 65531, 65535, 0, 65531, 65533, 5, 65531, 65530, 0, -1, 0, 3, -1, 1, 2, -1, 65535, 0, -65536, 65531, 1048579, -2, 65531, 1441795, -65535, 65531, 1048578, -3, 65531, 1441794, 65535, 65527, 2, 65535, 65526, 3, 65535, 65525, 0, 65535, 65524, 0, 65535, 65523, 0, 65535, 65522, 4, -1, 65528, 655360, -1, 65527, 0, -1, 65526, 0, -1, 65525, 0, -1, 65524, 0, -1, 65523, 0, -1, 65522, 0, 0, 65522, 1441792, 1, 65522, 1441792, 2, 65522, 1441792, 65534, 65522, 1441792, 65533, 65522, 1441792, 65532, 65522, 1441792, 65531, 65522, 655366, 3, 65522, 1048582, 65531, 65525, 0, 3, 65523, 0, 3, 65524, 0, 3, 65525, 0, 3, 65526, 0, 3, 65527, 0, 3, 65528, 0, 3, 65529, 3, 3, 65530, 2, -65533, 65531, 3, -65533, 65532, 2, -65533, 65530, 0, -65533, 65529, 0, -65533, 65528, 0, 65530, 65533, 1441795, 65529, 65533, 1441794, -8, 65533, 1441795, -9, 65533, 1441794, -7, 65533, 1441792, -6, 65533, 1441792, -5, 65533, 1441792, 65531, 0, 3, 65531, 1, 2, 65531, 3, 655362, -5, 2, 655360, -5, 3, 655360, -5, 1, 655360)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="stopSign" type="Area3D" parent="."]
script = ExtResource("4_cmgoq")

[node name="stop_sign_1" parent="stopSign" instance=ExtResource("5_7t7bd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -50)

[node name="CollisionShape3D" type="CollisionShape3D" parent="stopSign"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -51.3419)
shape = SubResource("BoxShape3D_lf72t")

[connection signal="body_entered" from="stopSign" to="stopSign" method="_on_body_entered"]
[connection signal="body_exited" from="stopSign" to="stopSign" method="_on_body_exited"]

[editable path="car"]
